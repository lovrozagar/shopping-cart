import{N as c,j as s,B as p,L as n,a as l,r,H as x,I as u,b as g,C as h}from"./index-99bdd6a4.js";import{P as C}from"./page-section-heading-dc65520f.js";import{C as f,a as j}from"./card-e7ea8349.js";import{L as v}from"./like-button-17bd4c33.js";import{W as N,A as w,h as y}from"./add-to-cart-button-43228490.js";import{C as L,a as A}from"./car-card-details-bar-eb796c8e.js";import"./payment-df12f7d9.js";const m=()=>{const e=localStorage.getItem(c);return e?JSON.parse(e):[]};function k({category:e,id:t}){return s.jsx(p,{asChild:!0,variant:"outline",className:"group overflow-hidden shadow-sm sm:min-w-[250px]",children:s.jsxs(n,{to:l.goToProduct(e,t),className:"relative flex w-full justify-center gap-2",children:[s.jsx("div",{children:"View and customize"}),s.jsx(N,{size:20,className:"pointer-events-none transition-transform sm:absolute sm:right-3 sm:translate-y-[-60px] sm:group-hover:translate-y-[0px]"})]})})}function S({car:e,setLikedCars:t}){const{cart:i,setCart:o}=r.useContext(x),{toast:d}=u();return s.jsx(f,{className:"transition-shadow duration-300 hover:shadow-around-low",children:s.jsxs(j,{className:"grid h-full overflow-hidden rounded-md p-0 shadow-md",children:[s.jsx("div",{className:"relative grid h-[270px] overflow-hidden",children:s.jsxs(n,{to:l.goToProduct(e.type,e.id),className:"",children:[s.jsx(g,{src:e.images[0]}),s.jsx(v,{carName:e.name,className:"absolute bottom-2 right-2 z-10 rounded-full bg-background/70 p-[6px]",handler:()=>t(()=>m())})]})}),s.jsxs("div",{className:"grid gap-4 px-4 pb-5 pt-3",children:[s.jsx("div",{className:"ml-1 grid gap-3",children:s.jsx(L,{name:e.name,type:e.type,id:e.id,price:e.price})}),s.jsx("div",{className:"ml-1",children:s.jsx(A,{color:e.color,upgrades:e.upgrades})}),s.jsxs("div",{className:"grid gap-2",children:[s.jsx(k,{category:e.type,id:e.id}),s.jsx(w,{handler:()=>y(e,i,o,d)})]})]})]})})}function _(){const[e,t]=r.useState(()=>m()),i=new Map(h.map(a=>[a.name,a])),[o,d]=r.useState([]);return r.useEffect(()=>{d(e.map(a=>i.get(a)).filter(a=>a!==void 0))},[e]),s.jsxs("div",{className:"mx-auto min-h-screen overflow-x-hidden py-6 xl:max-w-[1280px]",children:[s.jsx("div",{children:s.jsx(C,{title:"My garage",description:"Browse your favorites."})}),s.jsx("div",{className:"mt-3 grid grid-cols-fill-min gap-3 sm:grid-cols-fill-max",children:o.map(a=>s.jsx(S,{car:a,setLikedCars:t},a.id))})]})}export{_ as default};
